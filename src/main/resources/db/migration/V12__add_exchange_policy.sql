
-- 환전 정책 테이블 (수수료 할인율 추가)
CREATE TABLE exchange_policy
(
    policy_id                   BIGINT AUTO_INCREMENT PRIMARY KEY,
    bank_name                   VARCHAR(100)  NOT NULL,
    target_currency             CHAR(3)       NOT NULL,
    exchange_type               ENUM('BASE', 'SEND', 'RECEIVE', 'GETCASH', 'SELLCASH') NOT NULL,
    policy_name                 VARCHAR(255)  NOT NULL,                     -- 제목 + 혜택 통합
    description                 TEXT,
    exchange_discount_rate      DECIMAL(5, 2) NOT NULL DEFAULT 0.00,        -- 환율 우대율 (%)
    exchange_commission_fee DECIMAL(5, 2) NOT NULL DEFAULT 0.00,        -- 송금수수료 할인율 (%)
    base_telegraph_fee          DECIMAL(10, 2)         DEFAULT NULL,        -- 기본 송금수수료 (원)
    -- min_amount는 제거 - 필요시 description에 명시하거나 별도 조건 테이블로 관리
    is_active                   BOOLEAN       NOT NULL DEFAULT TRUE,
    created_at                  DATETIME               DEFAULT CURRENT_TIMESTAMP,
    updated_at                  DATETIME               DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- 국민은행 SEND 정책들 (외국인 대상 + KB WISE AUTO)
INSERT INTO exchange_policy (bank_name, target_currency, exchange_type, policy_name, description, exchange_discount_rate, exchange_commission_fee, base_telegraph_fee) VALUES
-- KB WELCOME PACKAGE (외국인 전용) - 12개 통화
('국민은행', 'USD', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'JPY', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'EUR', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'GBP', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'CAD', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'KRW', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'HKD', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'CNY', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'THB', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'IDR', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'VND', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'RUB', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),
('국민은행', 'MYR', 'SEND', 'KB WELCOME PACKAGE (환율 50% 우대)', '외국인 전용 통장 가입자 대상', 50.00, 0.00, 8000.00),

-- KB WISE AUTO 송금 - 12개 통화
('국민은행', 'USD', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'JPY', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'EUR', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'GBP', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'CAD', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'KRW', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'HKD', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'CNY', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'THB', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'IDR', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'VND', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'RUB', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),
('국민은행', 'MYR', 'SEND', 'KB WISE AUTO 송금 (환율 30% 우대 + 송금수수료 할인)', '자동예약송금 서비스 - 송금수수료 5,000원', 30.00, 37.50, 8000.00),

-- KB Quick Send (외국인 전용) - 5개 통화만
('국민은행', 'VND', 'SEND', 'KB Quick Send (환율 30% 우대)', '외국인 전용 해외송금 서비스 - 베트남 송금, 최대 1영업일', 30.00, 37.50, 8000.00),
('국민은행', 'IDR', 'SEND', 'KB Quick Send (환율 30% 우대)', '외국인 전용 해외송금 서비스 - 인도네시아 송금, 최대 1영업일', 30.00, 37.50, 8000.00),
('국민은행', 'THB', 'SEND', 'KB Quick Send (환율 30% 우대)', '외국인 전용 해외송금 서비스 - 태국 송금, 최대 1영업일', 30.00, 37.50, 8000.00);

-- 하나은행 외화서비스 하나통장
-- 하나은행 외화서비스 하나통장
INSERT INTO exchange_policy (bank_name, target_currency, exchange_type, policy_name, description, exchange_discount_rate, exchange_commission_fee, base_telegraph_fee) VALUES
-- 주요통화 (USD, EUR, JPY) - 환율 40% 우대
('하나은행', 'USD', 'SEND', '외화서비스 하나통장 (환율 40% 우대 + 송금수수료 30% 우대)', '주요통화 환율 최고 40% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 40.00, 30.00, 15000.00),
('하나은행', 'EUR', 'SEND', '외화서비스 하나통장 (환율 40% 우대 + 송금수수료 30% 우대)', '주요통화 환율 최고 40% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 40.00, 30.00, 15000.00),
('하나은행', 'JPY', 'SEND', '외화서비스 하나통장 (환율 40% 우대 + 송금수수료 30% 우대)', '주요통화 환율 최고 40% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 40.00, 30.00, 15000.00),

-- 기타통화 - 환율 20% 우대 (12개 대상 통화 중 포함된 것만 유지)
('하나은행', 'GBP', 'SEND', '외화서비스 하나통장 (환율 20% 우대 + 송금수수료 30% 우대)', '기타통화 환율 최고 20% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 20.00, 30.00, 15000.00),
('하나은행', 'CAD', 'SEND', '외화서비스 하나통장 (환율 20% 우대 + 송금수수료 30% 우대)', '기타통화 환율 최고 20% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 20.00, 30.00, 15000.00),
('하나은행', 'HKD', 'SEND', '외화서비스 하나통장 (환율 20% 우대 + 송금수수료 30% 우대)', '기타통화 환율 최고 20% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 20.00, 30.00, 15000.00),
('하나은행', 'THB', 'SEND', '외화서비스 하나통장 (환율 20% 우대 + 송금수수료 30% 우대)', '기타통화 환율 최고 20% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 20.00, 30.00, 15000.00),

-- 추가 지원 통화들 (12개 대상 통화 중 포함된 것만 유지)
('하나은행', 'IDR', 'SEND', '외화서비스 하나통장 (환율 20% 우대 + 송금수수료 30% 우대)', '기타통화 환율 최고 20% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 20.00, 30.00, 15000.00),
('하나은행', 'RUB', 'SEND', '외화서비스 하나통장 (환율 20% 우대 + 송금수수료 30% 우대)', '기타통화 환율 최고 20% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 20.00, 30.00, 15000.00),
('하나은행', 'CNY', 'SEND', '외화서비스 하나통장 (환율 20% 우대 + 송금수수료 30% 우대)', '기타통화 환율 최고 20% 우대, 해외송금수수료 30% 우대 (전신료 제외)', 20.00, 30.00, 15000.00),
-- 우리은행 인터넷해외송금 (12개 통화)
-- 기본통화 (USD, JPY, EUR) - 환율 50% 우대
('우리은행', 'USD', 'SEND', '인터넷해외송금 (환율 50% 우대)', '인터넷/모바일 이용시 환율 50% 우대, 중계수수료 부담 송금인', 50.00, 0.00, 15000.00),
('우리은행', 'JPY', 'SEND', '인터넷해외송금 (환율 50% 우대)', '인터넷/모바일 이용시 환율 50% 우대, 중계수수료 부담 송금인', 50.00, 0.00, 15000.00),
('우리은행', 'EUR', 'SEND', '인터넷해외송금 (환율 50% 우대)', '인터넷/모바일 이용시 환율 50% 우대, 중계수수료 부담 송금인', 50.00, 0.00, 15000.00),

-- 기타통화 - 환율 30% 우대
('우리은행', 'CAD', 'SEND', '인터넷해외송금 (환율 30% 우대)', '인터넷/모바일 이용시 환율 30% 우대, 중계수수료 부담 송금인', 30.00, 0.00, 15000.00),
('우리은행', 'CNY', 'SEND', '인터넷해외송금 (환율 30% 우대)', '인터넷/모바일 이용시 환율 30% 우대, 중계수수료 부담 송금인', 30.00, 0.00, 15000.00),
('우리은행', 'GBP', 'SEND', '인터넷해외송금 (환율 30% 우대)', '인터넷/모바일 이용시 환율 30% 우대, 중계수수료 부담 송금인', 30.00, 0.00, 15000.00),
('우리은행', 'HKD', 'SEND', '인터넷해외송금 (환율 30% 우대)', '인터넷/모바일 이용시 환율 30% 우대, 중계수수료 부담 송금인', 30.00, 0.00, 15000.00),
('우리은행', 'IDR', 'SEND', '인터넷해외송금 (환율 30% 우대)', '인터넷/모바일 이용시 환율 30% 우대, 중계수수료 부담 송금인', 30.00, 0.00, 15000.00),
('우리은행', 'MYR', 'SEND', '인터넷해외송금 (환율 30% 우대)', '인터넷/모바일 이용시 환율 30% 우대, 중계수수료 부담 송금인', 30.00, 0.00, 15000.00),
('우리은행', 'RUB', 'SEND', '인터넷해외송금 (환율 30% 우대)', '인터넷/모바일 이용시 환율 30% 우대, 중계수수료 부담 송금인', 30.00, 0.00, 15000.00),
('우리은행', 'THB', 'SEND', '인터넷해외송금 (환율 30% 우대)', '인터넷/모바일 이용시 환율 30% 우대, 중계수수료 부담 송금인', 30.00, 0.00, 15000.00),
('우리은행', 'VND', 'SEND', '인터넷해외송금 (환율 30% 우대)', '인터넷/모바일 이용시 환율 30% 우대, 중계수수료 부담 송금인', 30.00, 0.00, 15000.00);

-- IBK기업은행 i-ONE모두다 환전 서비스 (현찰매도)
INSERT INTO exchange_policy (bank_name, target_currency, exchange_type, policy_name, description, exchange_discount_rate, exchange_commission_fee, base_telegraph_fee) VALUES
                                                                                                                                                                               ('기업은행', 'USD', 'GETCASH', 'i-ONE모두다 환전 (환율 90% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 100달러', 90.00, 0.00, NULL),
                                                                                                                                                                               ('기업은행', 'EUR', 'GETCASH', 'i-ONE모두다 환전 (환율 90% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 100유로', 90.00, 0.00, NULL),
                                                                                                                                                                               ('기업은행', 'JPY', 'GETCASH', 'i-ONE모두다 환전 (환율 90% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 10,000엔', 90.00, 0.00, NULL),
                                                                                                                                                                               ('기업은행', 'CNY', 'GETCASH', 'i-ONE모두다 환전 (환율 90% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 700위안', 90.00, 0.00, NULL);
-- ibk 해외송금 서비스 대상통화: USD, JPY, EUR, GBP, AUD, NZD, CHF, CAD, DKK, NOK, SEK, HKD, SGD, THB
INSERT INTO exchange_policy (bank_name, target_currency, exchange_type, policy_name, description, exchange_discount_rate, exchange_commission_fee, base_telegraph_fee) VALUES
                                                                                                                                                                               ('기업은행','USD', 'SEND', 'IBK 해외송금 서비스 (환율 30% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 10만불 이내', 30.00, 0.00, 5000),
                                                                                                                                                                               ('기업은행','JPY', 'SEND', 'IBK 해외송금 서비스 (환율 30% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 10만불 이내', 30.00, 0.00, 5000),
                                                                                                                                                                               ('기업은행','EUR', 'SEND', 'IBK 해외송금 서비스 (환율 30% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 10만불 이내', 30.00, 0.00, 5000),
                                                                                                                                                                               ('기업은행','GBP', 'SEND', 'IBK 해외송금 서비스 (환율 30% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 10만불 이내', 30.00, 0.00, 5000),
                                                                                                                                                                               ('기업은행','CAD', 'SEND', 'IBK 해외송금 서비스 (환율 30% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 10만불 이내', 30.00, 0.00, 5000),
                                                                                                                                                                               ('기업은행','HKD', 'SEND', 'IBK 해외송금 서비스 (환율 30% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 10만불 이내', 30.00, 0.00, 5000),
                                                                                                                                                                               ('기업은행','THB', 'SEND', 'IBK 해외송금 서비스 (환율 30% 우대)', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 10만불 이내', 30.00, 0.00, 5000),
                                                                                                                                                                               ('기업은행', 'USD', 'SEND', 'IBK WU 빠른송금', '인터넷뱅킹 환전서비스, 환전신청 후 지점 수령, 최소환전 100달러', 90.00, 0.00, 6946.00);



-- 신한은행 유학생 자동 송금 (마이월드) USD EUR HBP, JPY, CAD, HKD
INSERT INTO exchange_policy (bank_name, target_currency, exchange_type, policy_name, description, exchange_discount_rate, exchange_commission_fee, base_telegraph_fee) VALUES
                                                                                                                                                                               ('신한은행', 'USD', 'SEND', '신한 유학생 자동 송금 (환율 30% 우대)', '유학생 전용 자동 송금 서비스', 30.00, 30.00, 8000.00),
                                                                                                                                                                               ('신한은행', 'EUR', 'SEND', '신한 유학생 자동 송금 (환율 30% 우대)', '유학생 전용 자동 송금 서비스', 30.00, 30.00, 8000.00),
                                                                                                                                                                               ('신한은행', 'JPY', 'SEND', '신한 유학생 자동 송금 (환율 30% 우대)', '유학생 전용 자동 송금 서비스', 30.00, 30.00, 8000.00),
                                                                                                                                                                               ('신한은행', 'CAD', 'SEND', '신한 유학생 자동 송금 (환율 30% 우대)', '유학생 전용 자동 송금 서비스', 30.00, 30.00, 8000.00),
                                                                                                                                                                               ('신한은행', 'HKD', 'SEND', '신한 유학생 자동 송금 (환율 30% 우대)', '유학생 전용 자동 송금 서비스', 30.00, 30.00, 8000.00);
